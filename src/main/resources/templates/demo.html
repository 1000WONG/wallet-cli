<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <script src="../static/js/jquery.js"></script>
    <script src="../static/protolib/protobuf.js"></script>
    <script src="../static/protolib/pbj.js"></script>
    <script src="../static/protolib/protobuf.js"></script>
    <script src="../static/trondatajs/bundle.js"></script>
    <script src="../static/utils/code.js"></script>


</head>

<body>

<h3 id="111"></h3>

<html>
<head>
</head>

<body>

<span style="white-space:pre">   </span>
<script type="text/javascript">

  function decodeUTF8(utf8Bytes) {
    var ascii = new Array(utf8Bytes.length)
    var i = 0;
    var c = c1 = c2 = 0;
    var j = 0;
    while ( i < utf8Bytes.length ) {
      c = utf8Bytes[i];
      if (c < 128) {
        ascii[j++] = c;
        i++;
      } else if((c > 191) && (c < 224)) {
        c2 = utf8Bytes[i+1];
        tmp = ((c & 31) << 6) | (c2 & 63)
        ascii[j++] = tmp;
        i += 2;
      } else {
        c2 = utf8Bytes[i+1];
        c3 = utf8Bytes[i+2];
        tmp = ((c & 15) << 12) | ((c2 & 63) << 6) | (c3 & 63)
        ascii[j++]  = tmp;
        i += 3;
      }
    }
    return ascii;
  }

   var account= new proto.protocol.Account();

    account.setAccountName("wangww");

   //  var accountName = account.getAccountName();
   //
   //
   // console.log("name : "+accountName);
   //
   // console.log("account : "+account);

//    var data="GhQhg5zl0xQFrW6ztpa6RpcxULcvHiD//////////38=";
    var data="EAEaFGwiwa97+7Kw4HFI7LontW+BpU/P";
    var bytes = stringToBytes(data);
    var bytsDecode = base64Decode(bytes);
    //var bytesAsii = decodeUTF8(bytsDecode);
    var t = proto.protocol.Account.deserializeBinary(bytsDecode);

    console.log("name "+t.getAccountName());
   console.log("address "+t.getAddress());
   var address = t.getAddress();
   var addressString = byteArray2hexStr(address);
   console.log("addressString "+addressString);
    //

    // var s = new proto.protocol.Account();
    // $("#111").append(data + "<br/>----------------<br />");
    // s.ParseFromStream(new PROTO.Base64Stream(data));
    // //var t = s.ParseFromStream(new PROTO.Base64Stream(data));
    // $("#111").append(s + "<br />------------------<br />");
    //
    // for(var i=0;i<s.list.length;i++){
    //     var l = s.list[i];
    //     $("#111").append(l + "------------------<br />");
    // }


</script>
</body>
</html>


